<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Tendencias YouTube M√©xico 2025</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h1 { color: #ff9800; }
    #status { margin-bottom: 10px; font-weight: bold; }
    ul {
      list-style: none;
      padding: 0;
      max-width: 600px;
      width: 100%;
      background: #222;
      border-radius: 8px;
      padding: 15px;
    }
    li {
      margin-bottom: 10px;
      border-bottom: 1px solid #333;
      padding-bottom: 10px;
    }
    a {
      color: #4fc3f7;
      text-decoration: none;
    }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>

  <h1>üî• Tendencias YouTube M√©xico 2025</h1>
  <div id="status">Cargando tendencias...</div>
  <ul id="tendencias"></ul>

  <script>
    const API_KEY = 'AIzaSyDAQVkMZ_l73dK7pt9gaccYPn5L0vA3PGw'; // üîë tu API key
    const REGION = 'MX'; // üá≤üáΩ regi√≥n
    const LANG = 'es'; // idioma
    const MAX_RESULTS = 10;

    const $ = id => document.getElementById(id);
    const setStatus = msg => $('status').textContent = msg;

    async function fetchJson(url) {
      const res = await fetch(url);
      if (!res.ok) throw new Error(`HTTP ${res.status} ${res.statusText}`);
      return res.json();
    }

    async function cargarTendencias() {
      try {
        const url = `https://www.googleapis.com/youtube/v3/videos?` +
          `part=snippet,statistics&chart=mostPopular` +
          `&regionCode=${REGION}&hl=${LANG}` +
          `&maxResults=${MAX_RESULTS}&key=${API_KEY}`;
          
        const data = await fetchJson(url);
        
        if (!data.items) throw new Error("Respuesta vac√≠a de YouTube");
        renderTendencias(data.items);
        setStatus('Tendencias actualizadas ‚úÖ');
      } catch (e) {
        setStatus('‚ùå Error al cargar tendencias: ' + e.message);
      }
    }

    function renderTendencias(items) {
      const ul = $('tendencias');
      ul.innerHTML = '';
      if (!items.length) {
        ul.innerHTML = '<li>No hay tendencias disponibles.</li>';
        return;
      }
      items.forEach(video => {
        const title = video.snippet.title;
        const channel = video.snippet.channelTitle;
        const videoId = video.id;
        const views = video.statistics?.viewCount || 0;

        const li = document.createElement('li');
        li.innerHTML = `
          <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank">${title}</a><br>
          üë§ ${channel} ‚Äî üëÅÔ∏è ${Number(views).toLocaleString()} vistas
        `;
        ul.appendChild(li);
      });
    }

    document.addEventListener('DOMContentLoaded', cargarTendencias);
  </script>

</body>
</html>

